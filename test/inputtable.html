<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <title>YAT.js - Table that is converted to a timeline</title>

  <link href="http://bmg.gv.at/cms/home/css/style.css" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="../css/layouts/bmg.css"/>

  <script type="text/javascript" src="../js/libs/modernizr.custom.js"></script>
  <script type="text/javascript" src="../js/libs/jquery.min.js"></script>
  <script type="text/javascript" src="../js/libs/underscore-min.js"></script>
  <script type="text/javascript" src="../js/libs/backbone-min.js"></script>
  <script type="text/javascript" src="../js/libs/jquery.event.scroll.js"></script>
  <script type="text/javascript" src="../js/libs/hammer.js"></script>
  <script type="text/javascript" src="../js/libs/moment.js"></script>
  <script type="text/javascript" src="../js/coffee/wrapper/yat.js"></script>
  <script type="text/javascript" src="../js/coffee/backbone/models/navigationViewManager.js"></script>
  <script type="text/javascript" src="../js/coffee/backbone/views/templates.js"></script>
  <script type="text/javascript" src="../js/coffee/backbone/views/overviewView.js"></script>
  <script type="text/javascript" src="../js/coffee/backbone/views/viewportItemView.js"></script>
  <script type="text/javascript" src="../js/coffee/backbone/views/viewportView.js"></script>
  <script type="text/javascript" src="../js/coffee/backbone/views/navigationElementView.js"></script>
  <script type="text/javascript" src="../js/coffee/backbone/views/navigationView.js"></script>
  <script type="text/javascript" src="../js/coffee/backbone/views/timelineView.js"></script>
  <script type="text/javascript" src="../js/coffee/backbone/models/item.js"></script>
  <script type="text/javascript" src="../js/coffee/backbone/collections/items.js"></script>
  <script type="text/javascript" src="../js/coffee/backbone/app.js"></script>

</head>
<body>

<div class="page-content">
    <div class="page-main full" style="width:80.243em; padding: 0">

    <h1>Example of a table that may be converted to a timeline by YAT.js</h1>

    <ul id="yat-table1-skipmenu">
      <li><a href="#yat-table1-skiptarget">Tabelle überspringen</a></li>
      <li><a href="#yat-table1-filters">Zu Filtermöglichkeiten der Tabelle springen</a></li>
      <li><a href="#yat-table1-target1">In der Tabelle zum 1. Jänner 2010 springen</a></li>
      <li><a href="#yat-table1-target2">In der Tabelle zum 1. Jänner 2011 springen</a></li>
      <li><a href="#yat-table1-target3">In der Tabelle zum 1. Jänner 2012 springen</a></li>
    </ul>

    <form id="yat-table1-filters" action="" method="post">
      <fieldset>
        <legend>Filter</legend>
        <label for="yat-table1-filters-category">Kategorie</label>
        <select id="yat-table1-filters-category">
          <option>Keine Kategorie gewählt</option>
          <option>Allgemein</option>
          <option>Speziell</option>
        </select>
        <label for="yat-table1-filters-tags" lang="en">Tags</label>
        <select id="yat-table1-filters-tags" multiple="multiple">
          <option>Eingetragen</option>
          <option>Tag2</option>
          <option>Tag3</option>
        </select>
        <input type="submit" value="Filtern"/>
      </fieldset>
    </form>

    <div class="tbl_jobs tbl1">
<table summary="Enthält historische Ereignisse, die als Zeitleiste aufbereitet werden." class="yat-timeline" id="yat-table1">
<caption>Es wurden <span id="numDocs"></span> Ereignisse gefunden.
  <a href="#yat-table1-skipmenu">Zum Sprungmenü</a>
</caption>
<thead>
<tr>
  <th>Termin</th>
  <th>Titel</th>
  <th>Inhalt</th>
  <th>Kategorie</th>
  <th>Tags</th>
</tr>
</thead>
<tbody>















    <tr class="important odd">

     <th class="yat-date">
     2012-12-17
  </th>

  <td class="yat-title">Heiter weiter</td>
  <td class="yat-content">

    <h3><strong>Und wir testen heiter weiter und weiter heiter weiter und weiter heiter weiter und weiter</strong></h3>
  <span class="datetime"><strong>17.12.2012</strong></span>




  <div class="timeline_image">




  </div>
    <p class="timeline_lead">
  Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam.
  </p>
  <p class="timeline_text">
  Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren,
  </p>

    <div class="detail">
  <span>
  <a href="http://bmg.gv.at/home/Schwerpunkte/Praevention/Vorsorgeuntersuchung" class="link_intern">Mehr lesen ....</a>
  </span>
  </div>

  </td>
  <td class="yat-category">Rechtliches</td>
  <td class="yat-tags">Wort4</td>
  </tr>

















    <tr class="important even">

     <th class="yat-date">
     2012-12-16
  </th>

  <td class="yat-title">Test Whatever</td>
  <td class="yat-content">

    <h3><strong>Test Whatever </strong></h3>
  <span class="datetime"><strong>16.12.2012</strong></span>




  <div class="timeline_image">



        <img src="http://www.bmg.gv.at/cms/home/attachments//5/5/9/CH1004/CMS1354098603368/appinfo_online.jpg" style="width:190px;" width="190" alt="img" />

  </div>
    <p class="timeline_lead">
  Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam.
  </p>
  <p class="timeline_text">
  Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren,
  </p>

    <div class="detail">
  <span>
  <a href="http://bmg.gv.at/home/Schwerpunkte/Praevention/Vorsorgeuntersuchung" class="link_intern">Mehr lesen ....</a>
  </span>
  </div>

  </td>
  <td class="yat-category">Rechtliches</td>
  <td class="yat-tags">Wort4</td>
  </tr>

















    <tr class="important odd">

     <th class="yat-date">
     2012-12-15
  </th>

  <td class="yat-title">Test 2</td>
  <td class="yat-content">

    <h3><strong>Lorem ipsum dolor sit amet </strong></h3>
  <span class="datetime"><strong>15.12.2012</strong></span>




  <div class="timeline_image">



         <img src="http://www.bmg.gv.at/cms/home/attachments//9/5/4/CH1004/CMS1334137344374/japan2_mittel.png" alt="img" />

  </div>
    <p class="timeline_lead">
  Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,
  </p>
  <p class="timeline_text">
  At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet
  </p>

    <div class="detail">
  <span>
  <a href="http://bmg.gv.at/home/Service/Gesetze_Verordnungen/Organtransplantationsgesetz_OTPG_" class="link_intern">Mehr lesen ....</a>
  </span>
  </div>

  </td>
  <td class="yat-category">Pressetermine</td>
  <td class="yat-tags">Wort4</td>
  </tr>

















    <tr class="even">

     <th class="yat-date">
     2012-12-15
  </th>

  <td class="yat-title">Noch ein Test</td>
  <td class="yat-content">

    <h3>Noch ein Test</h3>
  <span class="datetime">15.12.2012</span>




  <div class="timeline_image">



         <img src="http://www.bmg.gv.at/cms/home/attachments//7/1/9/CH1004/CMS1352365730267/nanoinformation_mittel.png" alt="img" />

  </div>
    <p class="timeline_lead">
  Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,
  </p>
  <p class="timeline_text">
  At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet
  </p>

    <div class="detail">
  <span>
  <a href="http://www.bmg.gv.at/home/Startseite/aktuelle_Meldungen/Neue_Patientensicherheits_App" class="link_intern">Mehr lesen ....</a>
  </span>
  </div>

  </td>
  <td class="yat-category">Publikationen</td>
  <td class="yat-tags">Wort4</td>
  </tr>

















    <tr class="important odd">

     <th class="yat-date" id="yat-table1-target1">
     2012-12-15
  </th>

  <td class="yat-title">Test 1</td>
  <td class="yat-content">

    <h3><strong>Stet clita kasd gubergren </strong></h3>
  <span class="datetime"><strong>15.12.2012</strong></span>




  <div class="timeline_image">



         <img src="http://www.bmg.gv.at/cms/home/attachments//9/5/4/CH1004/CMS1334137344374/japan2_mittel.png" alt="img" />

  </div>
    <p class="timeline_lead">
  Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,
  </p>
  <p class="timeline_text">
  At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet
  </p>

    <div class="detail">
  <span>
  <a href="http://bmg.gv.at/home/Service/Gesetze_Verordnungen/Organtransplantationsgesetz_OTPG_" class="link_intern">Mehr lesen ....</a>
  </span>
  </div>

  </td>
  <td class="yat-category">Pressetermine</td>
  <td class="yat-tags">Wort4</td>
  </tr>

















    <tr class="even">

     <th class="yat-date">
     2012-12-15
  </th>

  <td class="yat-title">Und noch ein Test</td>
  <td class="yat-content">

    <h3>Und noch ein Test</h3>
  <span class="datetime">15.12.2012</span>




  <div class="timeline_image">



         <img src="http://www.bmg.gv.at/cms/home/attachments//9/5/4/CH1004/CMS1334137344374/japan2_mittel.png" alt="img" />

  </div>
    <p class="timeline_lead">
  Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet,
  </p>
  <p class="timeline_text">
  At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet
  </p>

    <div class="detail">
  <span>
  <a href="http://bmg.gv.at/home/Service/Gesetze_Verordnungen/Organtransplantationsgesetz_OTPG_" class="link_intern">Mehr lesen ....</a>
  </span>
  </div>

  </td>
  <td class="yat-category">Pressetermine</td>
  <td class="yat-tags">Wort4</td>
  </tr>

















    <tr class="odd">

     <th class="yat-date">
     2012-12-12
  </th>

  <td class="yat-title">another one</td>
  <td class="yat-content">

    <h3>Noch ein Timeline-Doc</h3>
  <span class="datetime">12.12.2012</span>




  <div class="timeline_image">



        <img src="http://bmg.gv.at/cms/home//attachments/3/7/8/CH1099/CMS1288963892513/montage_online.jpg" style="width:150px;" width="150" alt="img" />

  </div>
    <p class="timeline_lead">
  Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
  </p>
  <p class="timeline_text">
  Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.
  </p>

    <div class="detail">
  <span>
  <a href="http.//www.filmtipps.at" class="link_intern">Link</a>
  </span>
  </div>

  </td>
  <td class="yat-category">Fachinformationen</td>
  <td class="yat-tags">Wort3, Wort4, Wort1</td>
  </tr>

















    <tr class="even">

     <th class="yat-date">
     2012-12-11
  </th>

  <td class="yat-title">Prävention</td>
  <td class="yat-content">

    <h3>Prävention</h3>
  <span class="datetime">11.12.2012</span>




  <div class="timeline_image">



         <img src="http://bmg.gv.at/cms/home/attachments//8/2/4/CH1099/CMS1289992571693/vorsorge_mittel.png" alt="img" />

  </div>
    <p class="timeline_lead">
  Ziel der Prävention ist die Bewahrung der Gesundheit sowie die Verhütung und Früherkennung von Krankheiten.
  </p>
  <p class="timeline_text">
  Das Gesundheitsministerium setzt in diesem Sinne zahlreiche Aktionen und bietet umfangreiches Informationsmaterial zum Thema. Einen speziellen Stellenwert in der Vorsorgearbeit hat das Thema Verbesserung der Ernährungsgewohnheiten der österreichischen Bevölkerung
  </p>

    <div class="detail">
  <span>
  <a href="http://bmg.gv.at/home/Schwerpunkte/Praevention/Vorsorgeuntersuchung" class="link_intern">Mehr lesen ....</a>
  </span>
  </div>

  </td>
  <td class="yat-category">Allgemein</td>
  <td class="yat-tags">Wort1, Wort2, Wort5</td>
  </tr>






</tbody>
</table>
</div>

    <div id="yat-table1-timeline"></div>
    <div id="yat-table1-skiptarget"></div>

  </div>
</div>

<script type="text/template" id="rowTemplate">
  <tr>
    <th class="yat-date">2012-02-15</th>
    <td class="yat-title">Lorem Ipsum dolor sit amet</td>
    <td class="yat-content">
      <h3>Der Titel des letzten Eintrags 2012</h3>
    </td>
    <td class="yat-category">Allgemein</td>
    <td class="yat-tags">Eingetragen</td>
  </tr>
</script>
<script type="text/javascript">

//  var i,
//      table = $('#yat-table1 tbody'),
//      templateHtml = $('#rowTemplate').text();
//  for (i = 0; i < 500; i++) {
//    table.append(templateHtml);
//  }

  $(document).ready(function () {
    var date = moment('1970-01-01');
    _.times(2, function(){
      $("#yat-table1").append($("#yat-table1").children().last().clone());
    });

    $("#yat-table1").find('th.yat-date').each(function(i, el) {
      curDate = moment(el.innerHTML);
      //console.log(curDate.diff(date, 'days'));
      if(curDate.diff(date, 'days') < 0) {
        curDate = date.add('days', 1);
        el.innerHTML = curDate.format('YYYY-MM-DD');
        $(el).parent().find('.datetime').text(curDate.format('YYYY-MM-DD'));
      }
      date = curDate;
    })

    //alert("start doing the timeline dance.");

    $("#yat-table1").yat(
        {
          items:"tbody tr",
          category:"td.yat-category",
          content:"td.yat-content",
          date:"th.yat-date",
          shorttitle:"td.yat-title",
          tags:"td.yat-tags",
          important:"tr"
        },
        "#yat-table1-timeline",
        {
          alterImportant:function (element) {
            return element.hasClass("important");
          }
        });
  });
</script>


</body>
</html>